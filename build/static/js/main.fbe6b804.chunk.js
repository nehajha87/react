(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{15:function(t,e,s){},16:function(t,e,s){"use strict";s.r(e);var a=s(2),n=s(4),i=s(5),c=s(6),r=s(8),o=s(7),d=s(1),m=s.n(d),l=s.p+"static/media/book.6862f8ca.jpg",u=s.p+"static/media/spinner.5e9b4f97.svg",h=s(0),j=function(t){Object(r.a)(s,t);var e=Object(o.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).componentDidMount=function(){a.getEvents(),setInterval((function(){a.tick()}),1e3),setInterval((function(){a.getEvents()}),6e4)},a.tick=function(){var t=m()().format("dddd, Do MMMM, h:mm A");a.setState({time:t})},a.setStatus=function(){for(var t=m()(),e=a.state.events,s=0;s<e.length;s++){var n=e[s];if(m()(t).isBetween(m()(n.start.dateTime),m()(n.end.dateTime)))return a.setState({isBusy:!0}),!1;a.setState({isBusy:!1})}},a.state={time:m()().format("dd, Do MMMM, h:mm A"),events:[],isBusy:!1,isEmpty:!1,isLoading:!0},a}return Object(c.a)(s,[{key:"getEvents",value:function(){var t=this;gapi.load("client",(function(){gapi.client.init({apiKey:"AIzaSyAp2j_S93QP-OPRcu_Rbuz187YIrqrDINc"}).then((function(){return gapi.client.request({path:"https://www.googleapis.com/calendar/v3/calendars/".concat("nehajha8720@gmail.com","/events?maxResults=11&orderBy=updated&timeMin=").concat(m()().toISOString(),"&timeMax=").concat(m()().endOf("day").toISOString())})})).then((function(e){var s=e.result.items,a=s.sort((function(t,e){return m()(e.start.dateTime).format("YYYYMMDD")-m()(t.start.dateTime).format("YYYYMMDD")}));s.length>0?t.setState({events:a,isLoading:!1,isEmpty:!1},(function(){t.setStatus()})):t.setState({isBusy:!1,isEmpty:!0,isLoading:!1})}),(function(t){console.log(t)}))}))}},{key:"render",value:function(){var t=this.state,e=t.time,s=t.events,a=s.map((function(t){return Object(h.jsxs)("a",{className:"list-group-item",href:t.htmlLink,target:"_blank",children:[t.summary," ",Object(h.jsxs)("span",{className:"badge",children:[m()(t.start.dateTime).format("h:mm a"),","," ",m()(t.end.dateTime).diff(m()(t.start.dateTime),"minutes")," ","minutes, ",m()(t.start.dateTime).format("MMMM Do")," "]})]},t.id)})),n=Object(h.jsxs)("div",{className:"empty",children:[Object(h.jsx)("img",{src:l,alt:"Welcome"}),Object(h.jsx)("h3",{children:"No meetings are scheduled for the day. Create one by clicking the button below."})]}),i=Object(h.jsx)("div",{className:"loading",children:Object(h.jsx)("img",{src:u,alt:"Loading..."})});return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:this.state.isBusy?"current-status busy":"current-status open",children:Object(h.jsx)("h1",{children:this.state.isBusy?"BUSY":"Book Now!!"})}),Object(h.jsxs)("div",{className:"upcoming-meetings",children:[Object(h.jsxs)("div",{className:"current-time",children:[e,", 2021"]}),Object(h.jsx)("h1",{children:"Book Your Appointment Now!!"}),Object(h.jsxs)("div",{className:"list-group",children:[this.state.isLoading&&i,s.length>0&&a,this.state.isEmpty&&n]}),Object(h.jsx)("a",{className:"primary-cta",href:"https://calendar.google.com/calendar?cid=c3FtMnVkaTFhZGY2ZHM3Z2o5aDgxdHVldDhAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ",target:"_blank",children:"+"})]})]})}}]),s}(a.Component);s(15);Object(n.render)(Object(h.jsx)(j,{}),document.getElementById("root"),(function(){document.getElementById("app-loader")}))}},[[16,1,2]]]);
//# sourceMappingURL=main.fbe6b804.chunk.js.map